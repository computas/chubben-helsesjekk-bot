"use strict";exports.id=894,exports.ids=[894],exports.modules={72744:(e,t,r)=>{r.d(t,{Z:()=>a});var n=r(72051);r(26269);let a=function({children:e}){return n.jsx("code",{className:"text-sm bg-gray-100 rounded p-1",children:e})}},78555:(e,t,r)=>{r.d(t,{I:()=>a,l:()=>i});var n=r(72051);function a(){return(0,n.jsxs)("span",{className:"relative flex h-3 w-3",children:[n.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-green-400 opacity-75"}),n.jsx("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-green-500"})]})}function i(){return n.jsx("span",{className:"relative flex h-3 w-3",children:n.jsx("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-red-300"})})}r(26269)},56081:(e,t,r)=>{r.d(t,{AnswerLevel:()=>a,answerQuestions:()=>M,createAsked:()=>O,createTeam:()=>A,deactivateTeam:()=>j,deleteQuestionFromTeam:()=>D,getActiveAsk:()=>m,getActiveTeams:()=>T,getAnswer:()=>H,getAsked:()=>y,getBrokenAsks:()=>x,getPreviousAsk:()=>v,getTeam:()=>h,getTeamByAdGroupAndTeamId:()=>k,getTeamsByAdGroups:()=>b,getTeamsToReveal:()=>S,hasActiveAsk:()=>u,hasActiveUnnaggedAsk:()=>f,hasAskedToday:()=>p,markAskedAsNagged:()=>w,markAskedRevealed:()=>g,updateTeam:()=>I,updateTeamGroupAssociation:()=>E});var n,a,i=r(84770),s=r(96279),l=r(7895),o=r(35379);(function(e){e[e.MONDAY=0]="MONDAY",e[e.TUESDAY=1]="TUESDAY",e[e.WEDNESDAY=2]="WEDNESDAY",e[e.THURSDAY=3]="THURSDAY",e[e.FRIDAY=4]="FRIDAY",e[e.SATURDAY=5]="SATURDAY",e[e.SUNDAY=6]="SUNDAY"})(n||(n={})),function(e){e.GOOD="GOOD",e.MEDIUM="MEDIUM",e.BAD="BAD"}(a||(a={}));var d=r(87924),c=r(24120);async function u(e){return await (0,d.prisma)().asked.findFirst({where:{teamId:e,revealed:!1,skipped:!1}})!=null}async function p(e){return await (0,d.prisma)().asked.findFirst({where:{teamId:e,timestamp:{gte:(0,c.b)(new Date)}}})!=null}async function f(e){return await (0,d.prisma)().asked.findFirst({where:{teamId:e,revealed:!1,nagged:!1}})!=null}async function m(e){return(0,d.prisma)().asked.findFirst({where:{teamId:e,revealed:!1,skipped:!1},include:{answers:!0}})}async function v(e){return(0,d.prisma)().asked.findFirst({where:{teamId:e.teamId,revealed:!0,id:{not:e.id},skipped:!1},orderBy:{timestamp:"desc"},include:{answers:!0}})}async function g(e,t=!1){await (0,d.prisma)().asked.update({where:{id:e},data:{revealed:!0,skipped:t}})}async function w(e){await (0,d.prisma)().asked.update({where:{id:e},data:{nagged:!0}})}async function y(e,t){return(0,d.prisma)().asked.findFirst({where:{messageTs:t,teamId:e}})}async function O(e,t,r){return(0,d.prisma)().asked.create({data:{teamId:t,messageTs:e,timestamp:new Date,questions:(0,s.ST)(r),revealed:!1,nagged:!1}})}async function h(e){return(0,d.prisma)().team.findFirst({where:{id:e}})}async function b(e){return(0,d.prisma)().team.findMany({where:{assosiatedGroup:{in:e}}})}async function k(e,t){let r=await (0,d.prisma)().team.findFirst({where:{id:t,assosiatedGroup:{contains:e}},include:{Asked:{where:{revealed:!1,skipped:!1}}}});return null==r?null:{...r,activeAskTs:r.Asked.length>0?r.Asked[0].messageTs:null}}async function A(e,t){return(0,d.prisma)().team.create({data:{id:e,name:t,active:!0,postDay:n.FRIDAY,postHour:14,revealDay:n.MONDAY,revealHour:10,questions:(0,s.ST)([{questionId:(0,l.Z)(),question:"Stress",answers:{HIGH:"Ting er behagelige og jeg kjenner meg ikke stresset",MID:"Litt s\xe5nn midt i mellom",LOW:"Jeg er stresset og opplever ubehag i forbindelse med jobben"},type:o.c.TEAM_HEALTH},{questionId:(0,l.Z)(),question:"Feedback",answers:{HIGH:"Vi st\xf8tter hverandres utvikling ved \xe5 gi hverandre positiv og kontruktiv feedback",MID:"Litt s\xe5nn midt i mellom",LOW:"Vi vet ikke hvordan vi skal gi hverandre feedback p\xe5 en konstruktiv m\xe5te"},type:o.c.TEAM_HEALTH},{questionId:(0,l.Z)(),question:"Samarbeid",answers:{HIGH:"Vi er et godt fungerende team der samarbeidet fungerer str\xe5lende",MID:"Litt s\xe5nn midt i mellom",LOW:"Vi er en gjeng individualister der alle driver p\xe5 med sine egne greier. Jeg aner ikke hva de andre gj\xf8r"},type:o.c.TEAM_HEALTH},{questionId:(0,l.Z)(),question:"St\xf8tte",answers:{HIGH:"Vi f\xe5r all hjelp vi trenger fra de rundt oss",MID:"Litt s\xe5nn midt i mellom",LOW:"Ting stopper opp hele tiden fordi vi m\xe5 vente p\xe5 andre"},type:o.c.SPEED},{questionId:(0,l.Z)(),question:"Fart",answers:{HIGH:"Vi f\xe5r gjort ting raskt",MID:"Litt s\xe5nn midt i mellom",LOW:"Ting stopper opp hele tiden. Vi er aldri enige om hva som har prioritet eller hvordan ting skal l\xf8ses"},type:o.c.SPEED},{questionId:(0,l.Z)(),question:"Oppdrag",answers:{HIGH:"Vi vet akkurat hvorfor vi er her og vi digger det",MID:"Litt s\xe5nn midt i mellom",LOW:"Vi vet ikke helt hvor vi skal. Oppdraget v\xe5rt er lite tydelig og ikke inspirerende"},type:o.c.SPEED}])}})}async function E(e,t){return(0,d.prisma)().team.update({data:{assosiatedGroup:t},where:{id:e}})}async function I(e,t,r){return(0,d.prisma)().$transaction(async n=>{let a=await n.team.findFirstOrThrow({where:{id:e}});return n.team.update({data:{name:t.name,active:t.active,postDay:t.postDay,postHour:t.postHour,revealDay:t.revealDay,revealHour:t.revealHour,questions:null!=r?(0,s.ST)([...(0,s.Pg)(a.questions),{questionId:(0,i.randomUUID)(),question:r.question,answers:{LOW:r.low,MID:r.mid,HIGH:r.high},type:r.category,custom:!0}]):void 0},where:{id:e}})})}function D(e,t){return(0,d.prisma)().$transaction(async r=>{let n=await r.team.findFirstOrThrow({where:{id:e}});return r.team.update({data:{questions:(0,s.ST)((0,s.Pg)(n.questions).filter(e=>e.questionId!==t))},where:{id:e}})})}async function j(e){let t=await m(e);return(0,d.prisma)().$transaction(async r=>{let n=await r.team.update({data:{active:!1},where:{id:e}});return null!=t&&await r.asked.update({where:{id:t.id},data:{revealed:!0,nagged:!0,skipped:!0}}),n})}async function T(){return(0,d.prisma)().team.findMany({where:{active:!0}})}async function S(){return(0,d.prisma)().team.findMany({where:{active:!0,Asked:{some:{revealed:!1,skipped:!1}}}})}async function x(){return(0,d.prisma)().asked.findMany({where:{revealed:!1,skipped:!0}})}async function M(e,t,r){var n;let a=(0,s.lV)((n=(0,s.Pg)(e.questions),t.map(([e,t])=>{let r=n.find(t=>t.questionId===e);if(null==r)throw Error(`Unable to find question with id ${e}`);return{answer:t,questionId:r.questionId,type:r.type}})));await (0,d.prisma)().answer.upsert({create:{userId:r,askedId:e.id,answeredAt:new Date,answers:a},update:{answers:a},where:{userId_askedId:{userId:r,askedId:e.id}}})}async function H(e,t){return(0,d.prisma)().answer.findFirst({where:{userId:e,askedId:t}})}},87924:(e,t,r)=>{r.d(t,{prisma:()=>a});var n=r(53524);let a=(0,r(93430).s)("prisma",()=>{let e=new n.PrismaClient({log:[{emit:"event",level:"warn"},{emit:"event",level:"error"}]});return e.$on("error",e=>{console.error(e)}),e.$on("warn",e=>{console.error(e)}),e})},96279:(e,t,r)=>{function n(e){return e}function a(e){return e}function i(e){return e}function s(e){return e}r.d(t,{Pg:()=>a,ST:()=>n,fe:()=>s,lV:()=>i})},35379:(e,t,r)=>{var n,a;r.d(t,{c:()=>n}),function(e){e.TEAM_HEALTH="TEAM_HEALTH",e.SPEED="SPEED",e.TECH="TECH",e.OTHER="OTHER"}(n||(n={})),function(e){e.GOOD="GOOD",e.MEDIUM="MEDIUM",e.BAD="BAD"}(a||(a={}))},17569:(e,t,r)=>{r.d(t,{JT:()=>d,dJ:()=>f,hR:()=>p,i1:()=>c,jQ:()=>m,uW:()=>o});var n=r(74180),a=r(41403),i=r(23566),s=r(5659),l=r(64253);function o(e){return(0,n.Q)(e,{weekStartsOn:1,locale:l.nb})}function d(){return new Date(new Date().toLocaleString("en",{timeZone:"Europe/Oslo"}))}function c(e){return((0,a.w)(e)+6)%7}let u=["mandag","tirsdag","onsdag","torsdag","fredag","l\xf8rdag","s\xf8ndag"];function p(e){return u[e]}function f(e){let t=d();return(0,i.j)(e,t)}function m(e){let t=d();return(0,s.A)(e,t)}},1378:(e,t,r)=>{r.r(t),r.d(t,{default:()=>s});var n=r(28964),a=r(95094),i=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)0>t.indexOf(n[a])&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r};let s=(0,n.forwardRef)((e,t)=>{var{title:r,titleId:s}=e,l=i(e,["title","titleId"]);let o=(0,a.M)();return o=r?s||"title-"+o:void 0,n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:t,"aria-labelledby":o},l),r?n.createElement("title",{id:o},r):null,n.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M11.53 3.47a.75.75 0 0 0-1.06 0l-.707.707a1.75 1.75 0 0 0-.513 1.237v.673a.25.25 0 0 1-.073.176L6.262 9.187a.25.25 0 0 1-.177.073H5.41a1.75 1.75 0 0 0-1.23.507l-.709.7a.75.75 0 0 0-.002 1.063l4.5 4.5a.75.75 0 0 0 1.06 0l.707-.707a1.75 1.75 0 0 0 .513-1.237v-.672a.25.25 0 0 1 .073-.177l.927-.926 7.22 7.22a.75.75 0 1 0 1.06-1.061l-7.22-7.22.927-.927a.25.25 0 0 1 .177-.073h.672c.464 0 .909-.184 1.237-.513l.707-.707a.75.75 0 0 0 0-1.06zm-.707 1.767L11 5.061 14.44 8.5l-.177.177a.25.25 0 0 1-.177.073h-.672q-.27 0-.523.08l-2.22-2.22a1.8 1.8 0 0 0 .079-.523v-.673a.25.25 0 0 1 .073-.177M9.751 7.812 7.815 9.754l1.935 1.935 1.94-1.939zM6.085 10.76q.274 0 .532-.082L8.83 12.89a1.8 1.8 0 0 0-.08.523v.672a.25.25 0 0 1-.073.177l-.177.176-3.437-3.436.172-.17a.25.25 0 0 1 .176-.073z",clipRule:"evenodd"}))})},58173:(e,t,r)=>{r.d(t,{default:()=>s});var n=r(28964),a=r(95094),i=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)0>t.indexOf(n[a])&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r};let s=(0,n.forwardRef)((e,t)=>{var{title:r,titleId:s}=e,l=i(e,["title","titleId"]);let o=(0,a.M)();return o=r?s||"title-"+o:void 0,n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:t,"aria-labelledby":o},l),r?n.createElement("title",{id:o},r):null,n.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M6.75 5.5a1.75 1.75 0 1 1 3.5 0 1.75 1.75 0 0 1-3.5 0M8.5 2.25a3.25 3.25 0 1 0 0 6.5 3.25 3.25 0 0 0 0-6.5m6.75 10.25a1.25 1.25 0 1 1 2.5 0 1.25 1.25 0 0 1-2.5 0m1.25-2.75a2.75 2.75 0 1 0 0 5.5 2.75 2.75 0 0 0 0-5.5m-2.072 7.422c.478-.565 1.189-.922 2.072-.922s1.594.357 2.072.922c.465.548.678 1.253.678 1.928V21a.75.75 0 0 1-1.5 0v-1.9c0-.375-.12-.72-.322-.96-.189-.222-.478-.39-.928-.39s-.74.168-.928.39c-.202.24-.322.585-.322.96V21a.75.75 0 0 1-1.5 0v-1.9c0-.675.213-1.38.678-1.928M8.5 10.25c-1.204 0-2.161.459-2.81 1.19-.638.716-.94 1.65-.94 2.56v7a.75.75 0 0 0 1.5 0v-7c0-.59.198-1.156.56-1.564.351-.395.894-.686 1.69-.686s1.339.291 1.69.686c.362.408.56.974.56 1.564v7a.75.75 0 0 0 1.5 0v-7c0-.91-.302-1.844-.94-2.56-.649-.731-1.606-1.19-2.81-1.19",clipRule:"evenodd"}))})},23977:(e,t,r)=>{r.r(t),r.d(t,{default:()=>s});var n=r(28964),a=r(95094),i=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)0>t.indexOf(n[a])&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r};let s=(0,n.forwardRef)((e,t)=>{var{title:r,titleId:s}=e,l=i(e,["title","titleId"]);let o=(0,a.M)();return o=r?s||"title-"+o:void 0,n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:t,"aria-labelledby":o},l),r?n.createElement("title",{id:o},r):null,n.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M9.75 9A2.25 2.25 0 0 1 12 6.75h.172a2.078 2.078 0 0 1 1.47 3.548l-1 1a4.75 4.75 0 0 0-1.392 3.359.75.75 0 0 0 1.5 0c0-.862.342-1.689.952-2.298l1-1a3.579 3.579 0 0 0-2.53-6.109H12A3.75 3.75 0 0 0 8.25 9v.5a.75.75 0 0 0 1.5 0zM12 16.5a1 1 0 1 0 0 2 1 1 0 0 0 0-2",clipRule:"evenodd"}))})},95777:(e,t,r)=>{r.d(t,{LinkPanel:()=>O,LinkPanelDescription:()=>f,LinkPanelTitle:()=>g});var n=r(61929),a=r(28964),i=r(95094),s=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)0>t.indexOf(n[a])&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r};let l=(0,a.forwardRef)((e,t)=>{var{title:r,titleId:n}=e,l=s(e,["title","titleId"]);let o=(0,i.M)();return o=r?n||"title-"+o:void 0,a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:t,"aria-labelledby":o},l),r?a.createElement("title",{id:o},r):null,a.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M9.47 5.97a.75.75 0 0 1 1.06 0l5.5 5.5a.75.75 0 0 1 0 1.06l-5.5 5.5a.75.75 0 1 1-1.06-1.06L14.44 12 9.47 7.03a.75.75 0 0 1 0-1.06",clipRule:"evenodd"}))});var o=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)0>t.indexOf(n[a])&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r};let d=(0,a.forwardRef)((e,t)=>{var{children:r,className:i,border:s=!1,as:l="div"}=e,d=o(e,["children","className","border","as"]);return a.createElement(l,Object.assign({ref:t,className:(0,n.Z)("navds-panel",i,{"navds-panel--border":s})},d),r)});var c=r(6401),u=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)0>t.indexOf(n[a])&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r};let p=(0,a.forwardRef)((e,t)=>{var{className:r}=e,i=u(e,["className"]);return a.createElement(c.Wx,Object.assign({},i,{as:"div",ref:t,className:(0,n.Z)("navds-link-panel__description",r)}))}),f=p;var m=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)0>t.indexOf(n[a])&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r};let v=(0,a.forwardRef)((e,t)=>{var{className:r,as:i="div"}=e,s=m(e,["className","as"]);return a.createElement(i,Object.assign({},s,{ref:t,className:(0,n.Z)("navds-link-panel__title","navds-heading","navds-heading--medium",r)}))}),g=v;var w=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)0>t.indexOf(n[a])&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r};let y=(0,a.forwardRef)((e,t)=>{var{children:r,as:i="a",border:s=!0,className:o}=e,c=w(e,["children","as","border","className"]);return a.createElement(d,Object.assign({},c,{as:i,border:s,ref:t,className:(0,n.Z)("navds-link-panel",o)}),a.createElement("div",{className:"navds-link-panel__content"},r),a.createElement(l,{className:"navds-link-panel__chevron","aria-hidden":!0}))});y.Title=v,y.Description=p;let O=y}};